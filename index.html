<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VoiceTasks</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="min-h-screen bg-neutral-50 text-neutral-900 font-sans antialiased">
  <!-- Header -->
  <header class="sticky top-0 z-20 bg-white border-b border-neutral-200 shadow-sm">
    <div class="max-w-2xl mx-auto px-4 h-14 flex items-center justify-between">
      <h1 class="text-xl font-semibold tracking-tight text-neutral-900">VoiceTasks</h1>
      <div class="flex items-center gap-2">
        <button type="button" id="reset-btn" class="text-sm font-medium text-neutral-600 hover:text-neutral-900 focus:outline-none focus:ring-2 focus:ring-neutral-400 rounded px-2 py-1" aria-label="Reset - remove all recordings">Reset</button>
        <span id="recording-indicator" class="recording-indicator hidden items-center gap-1.5 text-red-600 text-sm font-medium" aria-live="polite">
          <span class="w-2 h-2 rounded-full bg-red-600 animate-pulse" aria-hidden="true"></span>
          Recording
        </span>
        <button type="button" class="p-2 rounded-full text-neutral-600 hover:bg-neutral-100 hover:text-neutral-900 focus:outline-none focus:ring-2 focus:ring-neutral-400" aria-label="Settings">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <!-- Main list -->
  <main class="max-w-2xl mx-auto px-4 pb-36 pt-6">
    <div id="card-list" class="space-y-4 min-h-[200px]">
      <!-- Cards injected by JS -->
    </div>
    <p id="empty-state" class="text-center text-neutral-500 text-sm py-12 hidden">No recordings yet. Tap the mic to start.</p>
  </main>

  <!-- Fixed record button -->
  <div class="fixed bottom-0 left-0 right-0 z-10 bg-gradient-to-t from-neutral-50 to-transparent pt-6 pb-8 flex flex-col items-center gap-2">
    <button
      id="record-btn"
      type="button"
      class="record-btn w-20 h-20 rounded-full bg-neutral-200 text-neutral-700 flex items-center justify-center transition-all duration-300 hover:bg-neutral-300 hover:scale-105 active:scale-95 focus:outline-none focus:ring-4 focus:ring-neutral-400/50"
      aria-label="Record"
      aria-pressed="false"
    >
      <svg class="w-9 h-9" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
        <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
      </svg>
    </button>
    <span id="record-btn-label" class="text-sm font-medium text-neutral-600">Tap to record</span>
  </div>

  <!-- Card template -->
  <template id="card-template">
    <article class="card card-pending rounded-2xl shadow-sm border border-neutral-200 overflow-hidden transition-all duration-300" data-id="">
      <div class="p-4 flex items-center gap-3">
        <button type="button" class="play-pause flex-shrink-0 w-10 h-10 rounded-full bg-white/80 flex items-center justify-center text-neutral-700 hover:bg-white transition-colors" aria-label="Play">
          <svg class="play-icon w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
          <svg class="pause-icon w-5 h-5 hidden" fill="currentColor" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
        </button>
        <div class="wave-container flex items-center gap-0.5 h-8 flex-1 min-w-0">
          <span class="wave-bar"></span><span class="wave-bar"></span><span class="wave-bar"></span><span class="wave-bar"></span><span class="wave-bar"></span><span class="wave-bar"></span><span class="wave-bar"></span><span class="wave-bar"></span><span class="wave-bar"></span><span class="wave-bar"></span>
        </div>
        <span class="duration text-sm tabular-nums flex-shrink-0 w-12 text-right card-duration">0:00</span>
        <button type="button" class="complete-toggle flex-shrink-0 px-3 py-1.5 rounded-lg text-sm font-medium border-2 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1" aria-pressed="false">未完成</button>
        <div class="relative flex-shrink-0">
          <button type="button" class="menu-btn w-8 h-8 rounded-full flex items-center justify-center text-neutral-500 hover:bg-neutral-100 hover:text-neutral-700 transition-colors" aria-label="More options">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
          </button>
        </div>
      </div>
      <div class="transcript-section border-t border-neutral-200/80 px-4 py-3">
        <textarea
          class="transcript-area w-full min-h-[80px] p-3 rounded-xl border text-[28px] resize-y focus:outline-none focus:ring-2 focus:ring-neutral-400"
          placeholder="Listening..."
          readonly
          rows="3"
        ></textarea>
        <p class="category-line text-xs text-neutral-500 mt-1.5 hidden"></p>
      </div>
    </article>
  </template>

  <script src="app.js"></script>
</body>
</html>
